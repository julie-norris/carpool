{% extends 'base.html' %}
{% block title %}Let's Go!{% endblock %}
{% block content %}
<head>
  <meta content="initial-scale=1.0, user-scalable=no">
<style>
#map {
  height: 400px;
}

#pac-origin-input,
#pac-destination-input {
  background-color: #fff;
  font-family: Roboto;
  font-size: 15px;
  font-weight: 300;
  margin-left: 12 px;
  padding: 0 11px 0 13px;
  width: 200px;
}

</style>
<body>
<form action="/map", methods='POST'>
  <!-- <input id="pac-input" class="controls" type="text"
    placeholder="Start typing here">  -->     
  <span id="destination"> 
    <h1>Where are you going?</h1>
    <input  id="pac-destination-input" class="controls" type="text" placeholder="Destination?">
  </span>
  <br>
  <div id="start-address">
    <h1>What is your starting address?</h1> 
    <input id="pac-origin-input" class="controls" type="text" placeholder="Where are you starting from?">
  </div>

  <div id="map"></div>
  

  <script>
     var directionsDisplay;
     var directionsService;
     var map;
     
     // var start = new google.maps.LatLng(startLatLng);
     // var end = new google.maps.LatLng(endLatLng);

      function initMap() {
        var directionsService = new google.maps.DirectionsService();
        directionsDisplay = new google.maps.DirectionsRenderer();
        var myLatLong = {lat:37.765, lng:-122.241 };
        var mapOptions = {
          zoom: 15,
          mapTypeId: google.maps.MapTypeID.ROADMAP,
          center: myLatLong
        };
        var marker = new google.maps.Marker({
          position: myLatLong, 
        });

        map = new google.maps.Map(document.getElementById('map'), mapOptions);
        directionsDisplay.setMap(map);
        new AutocompleteDirectionsHandler(map);
      }

      function calcRoute() {
        var start = document.getElementById('start').value;
        var end = document.getElementById('end').value;
        var request = {
          origin: start,
          destination: end,
          travelMOde: 'DRIVING'
        };
        directionsService.route(request, function(result, status) {
          if (status == 'OK') {
            directionsDisplay.setDirections(result);
          }
        });
      }
       var contentString = "What goes here???"
       var infowindow = new google.maps.InfoWindow ( {
        content: contentString
        });

       var marker = new google.maps.Marker({
        position: myLatLong,
        map: map, 
        title: 'Name of this Place'
        });
        marker.addListener('click', function() {
         infowindow.open(map, marker);
        });
      
       var defaultBounds = new google.maps.LatLngBounds(
        new google.maps.LatLng(32.166, -117.246),
        new google.maps.LatLng(44.269, -67.678));

       var options = {
        bounds: defaultBounds
       };
// Get the HTML input element for the autocomplte search box.
       var input = document.getElementById('pac-destination-input');
       var second_input = document.getElementById('pac-origin-input');
       map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);
       map.controls[google.maps.ControlPosition.TOP_CENTER].push(second_input);
// Create the autocomplete object.
       var autocomplete = new google.maps.places.Autocomplete(input,options);
       var autocomplete_2 = new google.maps.places.Autocomplete(second_input, options); 

     

     
    

    function AutocompleteDirectionsHandler(map) {
      this.map = map;
      this.originPlaceID = null;
      this.destinationPlaceID = null;
      this.travelMode = 'DRIVING';
      var originInput = document.getElementById('pac-origin-input');
      var destinationInput = document.getElementById('destination-input');
      this.directionsSErvice = new google.maps.DirectionsService;
      this.directionsDIsplay = new google.maps.DirectionsRenderer;
      this.directionsDisplay.setMap(map);


      var originAutocomplete = new google.maps.places.Autocomplete(originInput, {placeIdOnly: true});
      var destinationAutocomplete = new google.maps.places. Autocomplete( destinationInput, {placeIdOnly: true});
    }

     
     
    </script>
      
    
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA5tDzhP-TkpUOI4dOZzkATen2OUCPasf4&libraries=places&callback=initMap"
        async defer></script>
    <br>
    <br>
  <script src="https://code.jquery.com/jquery.js"></script>  
  <div id="timeSelect">
    <h1>What time will you arrive?</h1>
    <input type="time" name="arrivaltime">      
  </div>
  <!-- // THERE WERE SOME NOTES ABOUT USING TIMEPICKER IN BOOTSTRAP ??   -->
    <br>
    <br>
    
  <div id="num_seats">
    <h1>How many seats do you have available? (1-6)</h1>
    <input type="number" name="seats">
  </div>
    <br>
    <br>
      <input type="submit">
</form>
</body>




<!-- displays map and a box for driver to input destination -->

<!-- pull down menu with 15 minute time increments stored as datetime objects -->

<!-- displays icons for driver to select 1-6 -->

<!-- driver inputs starting address which allows map to be generated -->






{% endblock %}